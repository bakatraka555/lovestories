[33m3db2789[m[33m ([m[1;36mHEAD[m[33m -> [m[1;32mmain[m[33m, [m[1;31morigin/main[m[33m)[m Add comprehensive logging for upload and generate workflow - Add detailed logging after Bunny.net upload to verify image1Url - Add pre-generate validation logging with URL checks - Add request payload logging before generate-image call - Add response logging after generate-image call - Helps debug why gallery uploads fail while selfies work
[33m7e9e274[m Fix: Add comprehensive null checks for file properties and API responses - Add null checks for file.name and file.type in all HEIC checks - Add validation for image1File before use - Add validation for urlData.uploadUrl and urlData.accessKey - Add null checks for trimmedText and parseError.message - Fixes 'cannot read properties of undefined' errors when selecting from gallery - All file property accesses now safely handle undefined values
[33m0bc54e3[m Fix: Resolve .includes() error and add REPLICATE_MODEL environment variable - Fix undefined .includes() error in order.html (lines 1356, 2116) - Add REPLICATE_MODEL environment variable support in generate-image.js - Model can now be changed via Netlify env vars without code changes - Remove unnecessary test files (test.js, upload-to-bunny.js) - Add .cursorrules to .gitignore (local only, not for GitHub) - Update PROJECT_RULES.md with new REPLICATE_MODEL env var
[33m16f5a04[m Implement direct upload to Bunny.net with CORS support - Direct upload to Bunny.net from browser (File object, not base64) - Massive payload reduction: 7.99MB base64 -> ~200 bytes URL - Automatic fallback to Netlify function if CORS fails - Compression only for images > 5MB (selfies work fine) - Fixes ProgressEvent errors on Android mobile networks - Updated PROJECT_RULES.md with enhanced directives - Added docs/README.md for better navigation
[33mfbfdf10[m Fix: Skip compression for images under 5MB (selfies work fine) - Only compress images larger than 5MB - Selfies (~5MB) upload without compression - Reduces processing time and avoids compression errors - Compression only for very large images (>5MB)
[33mc18732a[m Fix: Add image compression before upload (Android ProgressEvent fix) - Compress images to max 2MB before base64 conversion - Reduces upload size by 70-90% (8MB -> 1-2MB) - Uses Canvas API for client-side compression - Prevents ProgressEvent errors on mobile networks - Maintains image quality while reducing file size
[33m119bcea[m Fix: Return upload through Netlify function (Bunny.net CORS issue) - Bunny.net Storage API doesn't support CORS for direct browser uploads - Reverted to upload-user-image function (base64 through Netlify) - Improved error handling and timeout (60s for mobile) - Better ProgressEvent detection
[33m5411e8b[m Implement direct upload to Bunny.net from browser - NEW: get-upload-url function returns upload URL and credentials - Browser uploads directly to Bunny.net (Blob, not base64) - Netlify function receives only URL (~200 bytes vs 11MB base64) - Massive payload reduction: 11MB  200 bytes - Fixes ProgressEvent errors on mobile
[33m8248fdc[m Fix: Android network ProgressEvent error with enhanced error handling
[33mcda5066[m Add Android debug panel for easy troubleshooting
[33m9501b57[m Fix: Cannot set properties to null error on Android
[33mb93c0dd[m Fix Android file upload issue with separate camera/gallery inputs
[33m940b2d9[m Fix ProgressEvent error - Add explicit ProgressEvent detection - Add timeout wrapper for fetch (60s for mobile) - Better error messages for network issues - Check response constructor name
[33mbdbfa9c[m Also check button state after template loads
[33m2195571[m Fix Generate button not enabling after image validation - Call checkGenerateButton immediately after setting uploadedImages - Added detailed logging for button state debugging - Force button state if mismatch detected
[33m20c56ba[m Fix gallery file picker on mobile - Properly remove capture attribute for gallery - Explicit MIME types in accept attribute - Reset input value before each selection - Added delay for Android compatibility - Better error handling for cancelled selections
[33m5a4b206[m Fix ProgressEvent error on mobile - Better error handling for network errors - Improved CORS headers for Android - Detailed logging for upload functions - Better error messages for users
[33mf31a5ec[m Add detailed logging for Replicate API calls - Better error handling for network errors - More detailed logging to debug timeout issues
[33mf2c5ce2[m Fix JSON parsing error - Improved error handling for empty/incomplete responses - Better error messages for users - Fixed 'Unexpected end of JSON input' error
[33mf573465[m Add HEIC to JPEG conversion support for Samsung devices - Automatically converts HEIC/HEIF images to JPEG before upload - Added heic2any library for browser-side conversion - Improved image validation to support HEIC format - Better user experience with conversion status messages
